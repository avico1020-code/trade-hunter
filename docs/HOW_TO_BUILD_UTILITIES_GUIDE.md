# ðŸ“‹ ××™×š ×œ×ž×œ× ××ª Utilities × ×›×•×Ÿ - ×ž×“×¨×™×š ×ž×¢×©×™

## ðŸŽ¯ ×”×ž×˜×¨×”

×œ×”×‘×™×Ÿ **×ž×” ×¦×¨×™×š ×œ×”×™×•×ª ×‘-utilities** ×›×“×™ ×©××¡×˜×¨×˜×’×™×•×ª ×™×•×›×œ×• ×œ×”×©×ª×ž×© ×‘×”× ×œ×–×™×”×•×™ ×ª×‘× ×™×•×ª ×ž×“×•×™×§.

---

## ðŸ” ×©×œ×‘ 1: ×–×™×”×•×™ ×ž×” ×—×¡×¨ ×‘-utilities

### ×©××œ×•×ª ×©×¦×¨×™×š ×œ×©××•×œ ×¢×œ ×›×œ ××¡×˜×¨×˜×’×™×”:

#### ×. ××™×–×” × ×¨×•×ª/×ª×‘× ×™×•×ª × ×¨×•×ª ×”××¡×˜×¨×˜×’×™×” ×ž×©×ª×ž×©×ª?

**×“×•×’×ž×”: DoubleTop**

1. **"× ×¨ ×¢×¦×™×¨×”" (Rejection Candle)** - ×”× ×¨ ×©×ž×¨××” ×›×©×œ ×‘×¤×¨×™×¦×ª ×©×™×
   - × ×¨ ×©× ×™×¡×” ×œ×¤×¨×•×¥ ×©×™× ××‘×œ × ×›×©×œ
   - ×¡×’×™×¨×” × ×ž×•×›×” ×ž×”×©×™×
   - ×¦×œ ×¢×œ×™×•×Ÿ ××¨×•×š = ×“×—×™×™×”

2. **"× ×¨ ××™×©×•×¨" (Confirmation Candle)** - ×”× ×¨ ×©×ž××©×¨ ××ª ×”×›×©×œ
   - × ×¨ ××“×•× (bearish) ××—×¨×™ × ×¨ ×”×›×©×œ
   - ×¡×’×™×¨×” × ×ž×•×›×” ×ž× ×¨ ×”×›×©×œ

3. **"× ×¨ ×—×–×¨×”" (Return Candle)** - ×”× ×¨ ×©×—×–×¨ ×œ×©×™× ×”×¨××©×•×Ÿ
   - ××—×¨×™ ×™×¨×™×“×”, × ×¨ ×©×—×–×¨ ×§×¨×•×‘ ×œ×©×™× ×”×¨××©×•×Ÿ

**âŒ ×ž×” ×—×¡×¨ ×‘-`candle-patterns.ts`:**
- ××™×Ÿ `isRejectionCandle()` - ×–×™×”×•×™ × ×¨ ×“×—×™×™×”
- ××™×Ÿ `isFailureCandle()` - ×–×™×”×•×™ × ×¨ ×›×©×œ ×‘×¤×¨×™×¦×”
- ××™×Ÿ `isConfirmationCandle()` - ×–×™×”×•×™ × ×¨ ××™×©×•×¨

#### ×‘. ××™×–×” ×¨×ž×•×ª ×ª×ž×™×›×”/×”×ª× ×’×“×•×ª ×”××¡×˜×¨×˜×’×™×” ×ž×©×ª×ž×©×ª?

**×“×•×’×ž×”: DoubleTop**

1. **×¨×ž×ª ×”×ª× ×’×“×•×ª** - ×”×©×™× ×”×¨××©×•×Ÿ (××• ×”×©× ×™)
   - ×¦×¨×™×š ×œ×–×”×•×ª ××ª ×–×” ×›×¨×ž×ª ×”×ª× ×’×“×•×ª ×—×–×§×”
   - ×œ× ×¨×§ × ×§×•×“×” ×’×‘×•×”×”, ××œ× ×¨×ž×” ×©×ž×—×™×¨ × ×™×¡×” ×œ×¤×¨×•×¥ ×•× ×›×©×œ

2. **×¨×ž×ª ×ª×ž×™×›×” (Neckline)** - ×”×©×¤×œ ×‘×™×Ÿ ×”×©×™××™×
   - × ×§×•×“×” ×©×›×©×ž×—×™×¨ ×—×•×¦×” ××•×ª×” ×œ×ž×˜×” = ××™×©×•×¨ ×”×ª×‘× ×™×ª

**âŒ ×ž×” ×—×¡×¨ ×‘-`support-resistance.ts`:**
- ××™×Ÿ ×–×™×”×•×™ ×©×™××™×/×©×¤×œ×™× ×›×¨×ž×•×ª ×ª×ž×™×›×”/×”×ª× ×’×“×•×ª
- ××™×Ÿ ×–×™×”×•×™ "×¨×ž×ª ×›×©×œ" (×¨×ž×” ×©× ×™×¡×• ×œ×¤×¨×•×¥ ×•× ×›×©×œ×•)
- ××™×Ÿ ×–×™×”×•×™ neckline ×¡×¤×¦×™×¤×™

---

## ðŸ“‹ ×©×œ×‘ 2: ×¨×©×™×ž×ª × ×¨×•×ª ×©×¦×¨×™×š ×œ×”×•×¡×™×£

### ×§×˜×’×•×¨×™×” 1: × ×¨×•×ª ×“×—×™×™×”/×›×©×œ (Rejection/Failure)

#### 1. × ×¨ ×“×—×™×™×” (Rejection Candle)
```typescript
// × ×¨ ×©× ×™×¡×” ×œ×¤×¨×•×¥ ×¨×ž×” ××‘×œ × ×“×—×”
// ×“×•×’×ž×”: DoubleTop - × ×¨ ×©× ×™×¡×” ×œ×¤×¨×•×¥ ×©×™×1 ××‘×œ × ×“×—×”

/**
 * ×–×™×”×•×™ × ×¨ ×“×—×™×™×” - × ×¨ ×©× ×™×¡×” ×œ×¤×¨×•×¥ ×¨×ž×” ××‘×œ × ×“×—×”
 * 
 * ×ª× ××™×:
 * - high ×©×œ ×”× ×¨ × ×™×¡×” ×œ×¤×¨×•×¥ ×¨×ž×” (×ž×¢×œ ×¨×ž×”)
 * - close ×©×œ ×”× ×¨ × ×ž×•×š ×ž×”×¨×ž×” (×“×—×™×™×”)
 * - ×™×© ×¦×œ ×¢×œ×™×•×Ÿ ××¨×•×š (×œ×¤×—×•×ª 50% ×ž×”×˜×•×•×—)
 */
export function isRejectionCandle(
  candle: Candle,
  resistanceLevel: number,  // ×”×¨×ž×” ×©× ×™×¡×• ×œ×¤×¨×•×¥
  tolerance?: number          // ×¡×•×‘×œ× ×•×ª (default: 0.002 = 0.2%)
): boolean

// ×©×™×ž×•×© ×‘××¡×˜×¨×˜×’×™×”:
// const peak1Level = peaks[0].price;
// if (isRejectionCandle(candles[peak2Index], peak1Level)) {
//   // ×–×” ×©×™× ×©× ×™! × ×›×©×œ ×‘×¤×¨×™×¦×”
// }
```

#### 2. × ×¨ ×›×©×œ ×‘×¤×¨×™×¦×” (Failure Candle)
```typescript
/**
 * ×–×™×”×•×™ × ×¨ ×›×©×œ ×‘×¤×¨×™×¦×” - × ×¨ ×©× ×™×¡×” ×œ×¤×¨×•×¥ ××‘×œ × ×›×©×œ
 * 
 * ×“×•×ž×” ×œ-rejection, ××‘×œ ×™×•×ª×¨ ×¡×¤×¦×™×¤×™:
 * - ×¦×¨×™×š ×œ×‘×“×•×§ ×©×”×ž×—×™×¨ ×‘××ž×ª × ×™×¡×” ×œ×¤×¨×•×¥ (high > resistance)
 * - ×•×¡×•×’×¨ × ×ž×•×š (close < resistance)
 * - ××¤×©×¨ ×¢× volume ×’×‘×•×” = × ×™×¡×™×•×Ÿ ×—×–×§ ×©× ×›×©×œ
 */
export function isFailureCandle(
  candle: Candle,
  previousCandle: Candle,
  resistanceLevel: number,
  options?: {
    requireVolumeSpike?: boolean;
    minRejectionRatio?: number;  // ×›×ž×” ××—×•×– ×ž×”×˜×•×•×— ×”×•× ×¦×œ ×¢×œ×™×•×Ÿ
  }
): boolean
```

#### 3. × ×¨ ××™×©×•×¨ (Confirmation Candle)
```typescript
/**
 * ×–×™×”×•×™ × ×¨ ××™×©×•×¨ - × ×¨ ×©×ž××©×¨ ×›×©×œ/×”×™×¤×•×š
 * 
 * ×“×•×’×ž×”: DoubleTop
 * - × ×¨ ×”×›×©×œ = × ×¨ ×©× ×¡×” ×œ×¤×¨×•×¥ ×•× ×›×©×œ
 * - × ×¨ ××™×©×•×¨ = × ×¨ ××“×•× ×©×¡×•×’×¨ × ×ž×•×š ×ž× ×¨ ×”×›×©×œ
 */
export function isConfirmationCandle(
  failureCandle: Candle,
  confirmationCandle: Candle
): boolean
```

### ×§×˜×’×•×¨×™×” 2: × ×¨×•×ª ×—×–×¨×” (Return Candle)

#### 4. × ×¨ ×—×–×¨×” ×œ×¨×ž×” (Return Candle)
```typescript
/**
 * ×–×™×”×•×™ × ×¨ ×—×–×¨×” - × ×¨ ×©×—×–×¨ ×œ×¨×ž×” ××—×¨×™ ×™×¨×™×“×”/×¢×œ×™×™×”
 * 
 * ×“×•×’×ž×”: DoubleTop
 * - ××—×¨×™ ×©×™×1, ×ž×—×™×¨ ×™×•×¨×“
 * - ×•××– ×—×•×–×¨ ×§×¨×•×‘ ×œ×©×™×1 (×œ×¤× ×™ ×©×™×2)
 */
export function isReturnToLevel(
  candles: Candle[],
  targetLevel: number,
  startIndex: number,  // ×ž×ª×—×™×œ×™× ×œ×—×¤×© ×ž××–
  tolerance?: number    // ×›×ž×” ×§×¨×•×‘ × ×—×©×‘ "×—×–×¨×”"
): { found: boolean; index: number | null }
```

---

## ðŸ“Š ×©×œ×‘ 3: ×¨×ž×•×ª ×ª×ž×™×›×”/×”×ª× ×’×“×•×ª ×©×¦×¨×™×š ×œ×”×•×¡×™×£

### ×§×˜×’×•×¨×™×” 1: ×¨×ž×•×ª ×¢×œ ×‘×¡×™×¡ ×©×™××™×/×©×¤×œ×™×

#### 1. ×–×™×”×•×™ ×©×™××™×/×©×¤×œ×™× ×›×¨×ž×•×ª
```typescript
/**
 * ×ž×¦×™××ª ×©×™××™×/×©×¤×œ×™× ×©×ž×©×ž×©×™× ×›×¨×ž×•×ª ×ª×ž×™×›×”/×”×ª× ×’×“×•×ª
 * 
 * ×–×” ×©×•× ×” ×ž-findPeaks ×”×¤×©×•×˜:
 * - ×ž×—×¤×© ×©×™××™× ×—×–×§×™× (×œ× ×›×œ ×©×™×)
 * - ×‘×•×“×§ ×× ×™×© × ×’×™×¢×•×ª ×—×•×–×¨×•×ª ×‘×¨×ž×”
 * - ×ž×—×–×™×¨ SupportResistanceLevel ×•×œ× ×¨×§ × ×§×•×“×•×ª
 */
export function findPeaksAsResistance(
  candles: Candle[],
  options: {
    minLookback?: number;      // ×›×ž×” × ×¨×•×ª ×œ×—×¤×© ××—×•×¨×”
    minStrength?: number;       // ×ž×™× ×™×ž×•× ×—×•×–×§ (×œ×¤×™ × ×’×™×¢×•×ª)
    priceTolerance?: number;    // ×¡×•×‘×œ× ×•×ª ×‘×ž×—×™×¨
  } = {}
): SupportResistanceLevel[]

export function findTroughsAsSupport(
  candles: Candle[],
  options: {
    minLookback?: number;
    minStrength?: number;
    priceTolerance?: number;
  } = {}
): SupportResistanceLevel[]
```

#### 2. ×–×™×”×•×™ ×¨×ž×ª ×›×©×œ (Failed Breakout Level)
```typescript
/**
 * ×–×™×”×•×™ ×¨×ž×” ×©× ×™×¡×• ×œ×¤×¨×•×¥ ×•× ×›×©×œ×•
 * 
 * ×“×•×’×ž×”: DoubleTop
 * - ×©×™×1 = ×¨×ž×ª ×”×ª× ×’×“×•×ª
 * - ×©×™×2 = × ×™×¡×™×•×Ÿ ×œ×¤×¨×•×¥ ××ª ×©×™×1
 * - ×›×©×œ = ×¨×ž×ª ×”×ª× ×’×“×•×ª ×—×–×§×” ×™×•×ª×¨
 */
export function findFailedBreakoutLevels(
  candles: Candle[],
  resistanceLevels: SupportResistanceLevel[],
  options: {
    lookback?: number;
    minFailedAttempts?: number;  // ×›×ž×” × ×™×¡×™×•× ×•×ª ×›×©×œ
  } = {}
): SupportResistanceLevel[]
```

#### 3. ×–×™×”×•×™ Neckline
```typescript
/**
 * ×–×™×”×•×™ Neckline - ×”×©×¤×œ ×‘×™×Ÿ ×©×™××™× (××• ×”×©×™× ×‘×™×Ÿ ×©×¤×œ×™×)
 * 
 * ×“×•×’×ž×”: DoubleTop
 * - Neckline = ×”×©×¤×œ ×‘×™×Ÿ ×©×™×1 ×œ×©×™×2
 * - ×›×©×ž×—×™×¨ ×—×•×¦×” ×œ×ž×˜×” = ××™×©×•×¨ ×”×ª×‘× ×™×ª
 */
export function findNeckline(
  candles: Candle[],
  peak1Index: number,
  peak2Index: number
): SupportResistanceLevel | null

// ××• ×›×œ×œ×™ ×™×•×ª×¨:
export function findNecklineBetween(
  candles: Candle[],
  level1Index: number,
  level1Price: number,
  level2Index: number,
  level2Price: number
): { level: SupportResistanceLevel; index: number } | null
```

---

## ðŸŽ¯ ×©×œ×‘ 4: ××™×š ×œ×–×”×•×ª ×ž×” ×¦×¨×™×š ×œ×”×•×¡×™×£

### ×ª×”×œ×™×š ×–×™×”×•×™:

#### 1. ×œ×§×¨×•× ××ª ×”××¡×˜×¨×˜×’×™×” ×‘×¢×‘×¨×™×ª/×× ×’×œ×™×ª
```
"DoubleTop ×ž×–×”×”:
1. ×©×™× ×¨××©×•×Ÿ
2. ×™×¨×™×“×”
3. ×—×–×¨×” ×œ×©×™× ×”×¨××©×•×Ÿ
4. ×›×©×œ ×‘×¤×¨×™×¦×” (×©×™× ×©× ×™)
5. × ×¨ ××™×©×•×¨"
```

#### 2. ×œ×–×”×•×ª ××ª ×”×ž×•× ×—×™× ×”×˜×›× ×™×™×
- "×©×™×" = Peak = ×¨×ž×ª ×”×ª× ×’×“×•×ª
- "×›×©×œ ×‘×¤×¨×™×¦×”" = Failed Breakout = × ×¨ ×“×—×™×™×”
- "× ×¨ ××™×©×•×¨" = Confirmation Candle
- "×—×–×¨×”" = Return Candle

#### 3. ×œ×©××•×œ: ×”×× ×™×© ×‘-utilities?
- âŒ ××™×Ÿ `isRejectionCandle` â†’ ×¦×¨×™×š ×œ×”×•×¡×™×£
- âŒ ××™×Ÿ `isConfirmationCandle` â†’ ×¦×¨×™×š ×œ×”×•×¡×™×£
- âŒ ××™×Ÿ `findPeaksAsResistance` â†’ ×¦×¨×™×š ×œ×”×•×¡×™×£

#### 4. ×œ×›×ª×•×‘ ×¤×¨×•×ž×¤×˜ ×œ-ChatGPT
```
×× ×™ ×¦×¨×™×š ×œ×”×•×¡×™×£ ×–×™×”×•×™ × ×¨ ×“×—×™×™×” (Rejection Candle).

×ª×™××•×¨:
× ×¨ ×©× ×™×¡×” ×œ×¤×¨×•×¥ ×¨×ž×ª ×”×ª× ×’×“×•×ª ××‘×œ × ×“×—×”.
×–×” ×§×•×¨×” ×›×©×”×ž×—×™×¨ ×ž× ×¡×” ×œ×¤×¨×•×¥ ×œ×ž×¢×œ×” ××‘×œ × ×¡×’×¨ ×œ×ž×˜×”.

×ª× ××™×:
1. high ×©×œ ×”× ×¨ ×ž×¢×œ ×”×¨×ž×” (× ×™×¡×™×•×Ÿ ×œ×¤×¨×•×¥)
2. close ×©×œ ×”× ×¨ ×ž×ª×—×ª ×œ×¨×ž×” (×“×—×™×™×”)
3. ×™×© ×¦×œ ×¢×œ×™×•×Ÿ ××¨×•×š (×œ×¤×—×•×ª 50% ×ž×”×˜×•×•×—) = ×¡×™×ž×Ÿ ×“×—×™×™×” ×—×–×§

×¤×¨×ž×˜×¨×™×:
- resistanceLevel: number (×”×¨×ž×” ×©× ×™×¡×• ×œ×¤×¨×•×¥)
- tolerance: number = 0.002 (0.2% ×¡×•×‘×œ× ×•×ª)

×”×§×•×“ ×¦×¨×™×š ×œ×”×™×•×ª ×‘×§×•×‘×¥ lib/strategies/candle-patterns.ts

×¦×•×¨:
1. ×¤×•× ×§×¦×™×” isRejectionCandle(candle: Candle, resistanceLevel: number, tolerance?: number): boolean
2. ×‘×“×•×§ ×©×”×§×•×“ TypeScript strict
```

---

## ðŸ“ ×“×•×’×ž××•×ª ×¤×¨×•×ž×¤×˜×™× ×ž×•×›× ×™×

### ×¤×¨×•×ž×¤×˜ 1: × ×¨ ×“×—×™×™×”

```
×× ×™ ×¦×¨×™×š ×œ×”×•×¡×™×£ ×–×™×”×•×™ × ×¨ ×“×—×™×™×” (Rejection Candle) ×‘×©× "REJECTION_CANDLE".

×ª×™××•×¨:
× ×¨ ×©×ž×¨××” ×“×—×™×™×” ×ž×¨×ž×ª ×”×ª× ×’×“×•×ª. ×–×” ×§×•×¨×” ×›×©×”×ž×—×™×¨ ×ž× ×¡×” ×œ×¤×¨×•×¥ ×¨×ž×” ××‘×œ × ×“×—×” ×—×–×¨×” ×œ×ž×˜×”.

×ª× ××™× ×œ×–×™×”×•×™:
1. high ×©×œ ×”× ×¨ ×ž×¢×œ ×¨×ž×ª ×”×”×ª× ×’×“×•×ª (× ×™×¡×™×•×Ÿ ×œ×¤×¨×•×¥)
2. close ×©×œ ×”× ×¨ ×ž×ª×—×ª ×œ×¨×ž×ª ×”×”×ª× ×’×“×•×ª (×“×—×™×™×”)
3. ×¦×œ ×¢×œ×™×•×Ÿ ××¨×•×š (×œ×¤×—×•×ª 50% ×ž×”×˜×•×•×— ×”×ž×œ× ×©×œ ×”× ×¨)
4. ×’×•×£ ×§×˜×Ÿ ××• ×‘×™× ×•× ×™ (×œ× ×’×“×•×œ ×ž×“×™)

×¤×¨×ž×˜×¨×™×:
- resistanceLevel: number (×”×¨×ž×” ×©× ×™×¡×• ×œ×¤×¨×•×¥ - ×œ×ž×©×œ ×ž×—×™×¨ ×©×™×)
- tolerance: number = 0.002 (0.2% ×¡×•×‘×œ× ×•×ª - ×›×ž×” "×§×¨×•×‘" × ×—×©×‘ × ×™×¡×™×•×Ÿ ×œ×¤×¨×•×¥)
- minUpperShadowRatio: number = 0.5 (×ž×™× ×™×ž×•× 50% ×¦×œ ×¢×œ×™×•×Ÿ)
- maxBodyRatio: number = 0.4 (×ž×§×¡×™×ž×•× 40% ×’×•×£)

×”×§×•×“ ×”×§×™×™× × ×ž×¦× ×‘×§×•×‘×¥ lib/strategies/candle-patterns.ts.

×¦×•×¨:
1. ×”×•×¡×£ "REJECTION_CANDLE" ×œ-ReversalCandleType
2. ×¤×•× ×§×¦×™×” isRejectionCandle(candle: Candle, resistanceLevel: number, tolerance?: number, minUpperShadowRatio?: number, maxBodyRatio?: number): boolean
3. ×”×•×¡×£ ×‘×“×™×§×” ×‘-detectReversalCandles() (××‘×œ ×–×” ×“×•×¨×© ×’× ××ª ×”×¨×ž×” - ××– ×–×” ×™×›×•×œ ×œ×”×™×•×ª ×¤×•× ×§×¦×™×” × ×¤×¨×“×ª)
4. ×‘×“×•×§ ×©×”×§×•×“ TypeScript strict
```

### ×¤×¨×•×ž×¤×˜ 2: × ×¨ ××™×©×•×¨

```
×× ×™ ×¦×¨×™×š ×œ×”×•×¡×™×£ ×–×™×”×•×™ × ×¨ ××™×©×•×¨ (Confirmation Candle) ×‘×©× "CONFIRMATION_CANDLE".

×ª×™××•×¨:
× ×¨ ×©×ž××©×¨ ×›×©×œ ××• ×”×™×¤×•×š. ××—×¨×™ × ×¨ ×›×©×œ/×“×—×™×™×”, × ×¨ ××™×©×•×¨ ×”×•× × ×¨ ××“×•× (bearish) ×©×¡×•×’×¨ × ×ž×•×š ×™×•×ª×¨.

×ª× ××™× ×œ×–×™×”×•×™:
1. × ×¨ ×§×•×“× ×”×™×” × ×¨ ×›×©×œ/×“×—×™×™×” (××• ×›×œ × ×¨ ×©×ž×¨××” × ×™×¡×™×•×Ÿ ×›×•×©×œ)
2. × ×¨ × ×•×›×—×™ ×”×•× ××“×•× (close < open)
3. close ×©×œ ×”× ×¨ ×”× ×•×›×—×™ × ×ž×•×š ×ž-close ×©×œ ×”× ×¨ ×”×§×•×“×
4. (××•×¤×¦×™×•× ×œ×™) volume ×’×‘×•×” ×™×•×ª×¨ = ××™×©×•×¨ ×—×–×§ ×™×•×ª×¨

×¤×¨×ž×˜×¨×™×:
- failureCandle: Candle (×”× ×¨ ×©×ž×™×™×¦×’ ×›×©×œ - ×œ×ž×©×œ × ×¨ ×“×—×™×™×”)
- confirmationCandle: Candle (×”× ×¨ ×©×ž××©×¨)
- requireLowerClose: boolean = true (×—×™×™×‘ close × ×ž×•×š ×™×•×ª×¨)
- requireVolumeSpike: boolean = false (××•×¤×¦×™×•× ×œ×™ - ×“×•×¨×© volume ×’×‘×•×”)

×”×§×•×“ ×”×§×™×™× × ×ž×¦× ×‘×§×•×‘×¥ lib/strategies/candle-patterns.ts.

×¦×•×¨:
1. ×”×•×¡×£ "CONFIRMATION_CANDLE" ×œ-ReversalCandleType
2. ×¤×•× ×§×¦×™×” isConfirmationCandle(failureCandle: Candle, confirmationCandle: Candle, requireLowerClose?: boolean, requireVolumeSpike?: boolean): boolean
3. ×‘×“×•×§ ×©×”×§×•×“ TypeScript strict
```

### ×¤×¨×•×ž×¤×˜ 3: ×¨×ž×•×ª ×ž×©×™××™×

```
×× ×™ ×¦×¨×™×š ×œ×”×•×¡×™×£ ×–×™×”×•×™ ×©×™××™× ×›×¨×ž×•×ª ×”×ª× ×’×“×•×ª ×‘×©× "findPeaksAsResistance".

×ª×™××•×¨:
×ž×•×¦× ×©×™××™× (peaks) ×•×ž×ž×™×¨ ××•×ª× ×œ-SupportResistanceLevel.
×–×” ×©×•× ×” ×ž-findPeaks ×”×¤×©×•×˜ ×›×™:
1. ×‘×•×“×§ ×× ×™×© × ×’×™×¢×•×ª ×—×•×–×¨×•×ª ×‘×¨×ž×”
2. ×ž×—×©×‘ strength ×œ×¤×™ ×ž×¡×¤×¨ × ×’×™×¢×•×ª
3. ×ž×—×–×™×¨ SupportResistanceLevel ×•×œ× ×¨×§ × ×§×•×“×•×ª

××œ×’×•×¨×™×ª×:
1. ×ž×¦× ×›×œ ×”×©×™××™× (peaks) ×‘×ª×§×•×¤×”
2. ×§×™×‘×•×¥ ×©×™××™× ×§×¨×•×‘×™× ×™×—×“ (×œ×¤×™ priceTolerance)
3. ×¡×¤×™×¨×ª × ×’×™×¢×•×ª ×‘×›×œ ×§×‘×•×¦×”
4. ×—×™×©×•×‘ strength: ×›×›×œ ×©×™×•×ª×¨ × ×’×™×¢×•×ª = ×™×•×ª×¨ ×—×–×§
5. ×”×—×–×¨×ª ×¨×ž×•×ª ×¢× minStrength ××• ×™×•×ª×¨

×¤×¨×ž×˜×¨×™×:
- candles: Candle[]
- options: {
    minLookback?: number = 100 (×›×ž×” × ×¨×•×ª ××—×•×¨×” ×œ×—×¤×©)
    minStrength?: number = 0.3 (×ž×™× ×™×ž×•× strength - 0-1)
    priceTolerance?: number = 0.002 (0.2% ×¡×•×‘×œ× ×•×ª ×‘×§×™×‘×•×¥)
    minTouches?: number = 2 (×ž×™× ×™×ž×•× × ×’×™×¢×•×ª)
  }

×”×§×•×“ ×”×§×™×™× × ×ž×¦× ×‘×§×•×‘×¥ lib/strategies/support-resistance.ts.

×¦×•×¨:
1. ×¤×•× ×§×¦×™×” findPeaksAsResistance(candles: Candle[], options?: {...}): SupportResistanceLevel[]
2. ×ž×©×ª×ž×© ×‘-findPeaks ×”×‘×¡×™×¡×™ (××• logica ×“×•×ž×”)
3. ×›×œ ×¨×ž×” ×ª×”×™×” ×¢× source: "PEAK_RESISTANCE"
4. ×‘×“×•×§ ×©×”×§×•×“ TypeScript strict
```

---

## âœ… Checklist ×œ×–×™×”×•×™ ×ž×” ×¦×¨×™×š ×œ×”×•×¡×™×£

×œ×¤× ×™ ×›×ª×™×‘×ª ×¤×¨×•×ž×¤×˜, ×‘×“×•×§:

### × ×¨×•×ª:
- [ ] ×”×× ×”××¡×˜×¨×˜×’×™×” ×ž×–×›×™×¨×” "× ×¨ ×“×—×™×™×”", "× ×¨ ×›×©×œ", "× ×¨ ××™×©×•×¨"?
- [ ] ×”×× ×™×© ×ª×‘× ×™×•×ª × ×¨×•×ª ×¡×¤×¦×™×¤×™×•×ª ×©×”××¡×˜×¨×˜×’×™×” ×ž×—×¤×©×ª?
- [ ] ×”×× ×™×© ×ª× ××™× ×ž×™×•×—×“×™× ×¢×œ × ×¨×•×ª (×œ×ž×©×œ volume ×’×‘×•×”)?

### ×¨×ž×•×ª:
- [ ] ×”×× ×”××¡×˜×¨×˜×’×™×” ×ž×–×›×™×¨×” "×©×™×", "×©×¤×œ", "neckline"?
- [ ] ×”×× ×™×© ×¨×ž×•×ª ×¡×¤×¦×™×¤×™×•×ª (×œ×ž×©×œ "×¨×ž×ª ×›×©×œ")?
- [ ] ×”×× ×¦×¨×™×š ×œ×–×”×•×ª ×¨×ž×•×ª ×¢×œ ×‘×¡×™×¡ ×ž×¡×¤×¨ × ×’×™×¢×•×ª?

### ×¡×˜×•×¤×™×:
- [ ] ×”×× ×™×© ×ª× ××™ stop ×¡×¤×¦×™×¤×™ (×œ×ž×©×œ "×ž×ª×—×ª ×œ-neckline")?
- [ ] ×”×× ×¦×¨×™×š stop ×¢×œ ×‘×¡×™×¡ × ×¨ ×ž×¡×•×™×?

---

## ðŸŽ¯ ×¡×™×›×•×

### ×”×ª×”×œ×™×š:
1. **×§×¨× ××ª ×”××¡×˜×¨×˜×’×™×”** â†’ ×–×”×” ×ž×•× ×—×™× ×˜×›× ×™×™×
2. **×‘×“×•×§ ×ž×” ×™×© ×‘-utilities** â†’ ×ž×” ×—×¡×¨?
3. **×–×”×” ×§×˜×’×•×¨×™×”** â†’ × ×¨ / ×¨×ž×” / stop
4. **×›×ª×•×‘ ×¤×¨×•×ž×¤×˜** â†’ ×œ×¤×™ ×”×ª×‘× ×™×•×ª ×œ×ž×¢×œ×”
5. **×”×•×¡×£ ×œ×§×•×“** â†’ ×•×•×“× ×©×–×” ×¢×•×‘×“

### ×ž×” ×¦×¨×™×š ×œ×”×™×•×ª ×‘-utilities:
- âœ… **× ×¨×•×ª**: ×“×—×™×™×”, ×›×©×œ, ××™×©×•×¨, ×—×–×¨×”, ×•×›×•'
- âœ… **×¨×ž×•×ª**: ×©×™××™×/×©×¤×œ×™×, ×¨×ž×•×ª ×›×©×œ, neckline, ×•×›×•'
- âœ… **×¡×˜×•×¤×™×**: ×©×™×˜×•×ª ×—×™×©×•×‘ ×©×•× ×•×ª (×›×‘×¨ ×™×©)

---

**×¢×›×©×™×• ××ª×” ×™×•×“×¢ ××™×š ×œ×ž×œ× ××ª ×”-utilities × ×›×•×Ÿ! ðŸš€**

